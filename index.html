<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HỌ TÊN</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 15px;
            background-color: #f5f5f5;
        }
        
        h1 {
            color: #333;
            text-align: center;
			font-size: 16px; /* Điều chỉnh kích thước theo ý muốn */
        }
        
        .search-container {
            margin-bottom: 20px;
            text-align: center;
        }
        
        #search-box {
            width: 100%;
            padding: 12px 20px;
            margin: 8px 0;
            box-sizing: border-box;
            border: 2px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
        }
        
        .results-wrapper {
            display: none;
            margin-top: 20px;
        }
        
        .result-item {
            margin-bottom: 30px;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            background-color: white;
        }
        
        .group-box {
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 5px;  /* Khoảng cách giữa các group */
        }
        
        .hanzi-box {
            border: 2px solid #a3d0fd;
            background-color: #f5f5f5; /* Màu xám nhạt */
        }
        
        .vietnamese-box {
            border: 2px solid #a3d0fd;
            background-color: #f5f5f5; /* Màu xám nhạt */
        }
        
        .meaning-box {
            border: 2px solid #a3d0fd;
            background-color: #f5f5f5; /* Màu xám nhạt */
        }
        
        .hanzi {
            font-size: 72px;
            text-align: center;
            margin: 10px 0;
        }
        
        .pinyin {
            font-size: 24px;
            text-align: center;
            color: #ff6b6b; /* Màu đỏ nhạt */
            margin-bottom: 10px;
        }
        
        .vietnamese {
            font-size: 24px;
            text-align: center;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .meaning {
            font-size: 18px;
            line-height: 1.6;
        }
        
        .no-results {
            text-align: center;
            color: #666;
            font-style: italic;
            margin-top: 20px;
            display: none;
        }
        
        .loading {
            text-align: center;
            color: #666;
            margin-top: 20px;
            display: none;
        }
        
        .result-count {
            text-align: center;
            margin-bottom: 15px;
            color: #666;
            font-style: italic;
        }
    </style>
</head>
<body>
    <h1>HỌ TÊN TIẾNG TRUNG</h1>
    
    <div class="search-container">
        <input type="text" id="search-box" placeholder="Nhập chữ Hán hoặc tiếng Việt">
    </div>
    
    <div id="loading" class="loading">Đang tải dữ liệu...</div>
    <div id="no-results" class="no-results">Không tìm thấy kết quả phù hợp</div>
    
    <div id="results-wrapper" class="results-wrapper">
        <div id="result-count" class="result-count"></div>
        <div id="results-container"></div>
    </div>
    
    <script>
        // Lấy các phần tử DOM
        const searchBox = document.getElementById('search-box');
        const resultsWrapper = document.getElementById('results-wrapper');
        const resultsContainer = document.getElementById('results-container');
        const noResults = document.getElementById('no-results');
        const loadingElement = document.getElementById('loading');
        const resultCountElement = document.getElementById('result-count');
        
        let vocabulary = [];
        
        // Tải dữ liệu từ JSON
        async function loadVocabulary() {
            try {
                loadingElement.style.display = 'block';
                const response = await fetch('https://raw.githubusercontent.com/jjuunndduu/name/refs/heads/main/nnammee.json');
                
                if (!response.ok) {
                    throw new Error('Không thể tải dữ liệu');
                }
                
                // Lọc bỏ phần tử đầu tiên (tiêu đề)
                const rawData = await response.json();
                vocabulary = rawData.slice(1); // Bỏ qua phần tử đầu tiên
                
                loadingElement.style.display = 'none';
                
                // Kích hoạt tìm kiếm sau khi tải xong
                searchBox.disabled = false;
                searchBox.placeholder = "Nhập chữ Hán hoặc tiếng Việt";
            } catch (error) {
                console.error('Lỗi khi tải dữ liệu:', error);
                loadingElement.textContent = "Lỗi khi tải dữ liệu. Vui lòng thử lại sau.";
            }
        }
        
        // Xử lý sự kiện tìm kiếm
        function setupSearch() {
            searchBox.addEventListener('input', function() {
                const searchTerm = this.value.trim();
                
                if (searchTerm === '') {
                    resultsWrapper.style.display = 'none';
                    noResults.style.display = 'none';
                    return;
                }
                
                // Tìm kiếm trong dữ liệu (không phân biệt hoa thường)
                const searchTermLower = searchTerm.toLowerCase();
                const results = vocabulary.filter(item => 
                    (item.A && item.A.includes(searchTerm)) || 
                    (item.C && item.C.toLowerCase().includes(searchTermLower)) ||
                    (item.B && item.B.toLowerCase().includes(searchTermLower))
                );
                
                // Hiển thị kết quả
                if (results.length > 0) {
                    displayResults(results);
                    resultsWrapper.style.display = 'block';
                    noResults.style.display = 'none';
                } else {
                    resultsWrapper.style.display = 'none';
                    noResults.style.display = 'block';
                }
            });
        }
        
        // Hiển thị tất cả kết quả
        function displayResults(results) {
            resultsContainer.innerHTML = '';
            resultCountElement.textContent = `Tìm thấy ${results.length} kết quả`;
            
            results.forEach(item => {
                const resultItem = document.createElement('div');
                resultItem.className = 'result-item';
                
                resultItem.innerHTML = `
                    <div class="group-box hanzi-box">
                        <div class="hanzi">${item.A || ''}</div>
                        <div class="pinyin">${item.B || ''}</div>
                    </div>
                    <div class="group-box vietnamese-box">
                        <div class="vietnamese">${item.C || ''}</div>
                    </div>
                    <div class="group-box meaning-box">
                        <div class="meaning">${item.D || ''}</div>
                    </div>
                `;
                
                resultsContainer.appendChild(resultItem);
            });
        }
        
        // Khởi động ứng dụng
        function init() {
            searchBox.disabled = true;
            searchBox.placeholder = "Đang tải dữ liệu...";
            loadVocabulary().then(setupSearch);
        }
        
        // Bắt đầu ứng dụng
        init();
    </script>
</body>
</html>
